(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trainee-exercise"],{"2e73":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"outer-w3-agile col-xl mt-3"},[a("h4",{staticClass:"tittle-w3-agileits mb-4"},[t._v(" Perform Exercise: "+t._s(t.activeExerciseData.trainingName)+" ")]),t.messageDisplay?a("div",{staticClass:"alert",class:[t.isSuccessful?"alert-success":"alert-danger"],attrs:{role:"alert"}},[t._v(" "+t._s(t.messageDisplay)+" ")]):t._e(),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"courseCode"}},[t._v("Exercise Time Slot")]),a("div",{staticClass:"mt-5"},[a("vue-slider",{attrs:{min:0,max:t.exerciseDetails.duration,tooltip:"always",process:!1,disabled:""},model:{value:t.exerciseDetails.breakPoints,callback:function(e){t.$set(t.exerciseDetails,"breakPoints",e)},expression:"exerciseDetails.breakPoints"}})],1)]),a("div",{staticClass:"form-group mt-5 mb-5"},[a("label",{attrs:{for:"courseCode"}},[t._v("Training Time Slot")]),a("div",{staticClass:"mt-5"},[a("vue-slider",{attrs:{min:0,max:t.exerciseDetails.duration,tooltip:"always",process:!1,disabled:""},model:{value:t.trainingData.track,callback:function(e){t.$set(t.trainingData,"track",e)},expression:"trainingData.track"}})],1)]),a("div",{staticClass:"form-group"},[a("label",[t._v("First Person Name: "+t._s(t.getUserFullName))]),a("br"),a("label",[t._v("Break Points: "+t._s(t.trainingData.personOne.breakPoints.join(", ")))])]),2===t.exerciseMode?a("div",{staticClass:"form-group"},[a("label",[t._v(" Second Person Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.trainingData.personTwo.name,expression:"trainingData.personTwo.name"}],staticClass:"form-control text-input",attrs:{type:"text",disabled:t.inputFieldDisable},domProps:{value:t.trainingData.personTwo.name},on:{input:function(e){e.target.composing||t.$set(t.trainingData.personTwo,"name",e.target.value)}}})]),a("br"),a("label",[t._v("Break Points: "+t._s(t.trainingData.personTwo.breakPoints.join(", ")))])]):t._e(),a("div",{staticClass:"form-group mt-5"},[a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.start},on:{click:t.startExercise}},[t._v(" Start ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.stop},on:{click:t.stopExercise}},[t._v(" Stop ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",on:{click:t.restartExercise}},[t._v(" Reset ")])])])])},n=[],r=a("5530");a("a4d3"),a("b64b");function s(t,e){if(null==t)return{};var a,i,n={},r=Object.keys(t);for(i=0;i<r.length;i++)a=r[i],e.indexOf(a)>=0||(n[a]=t[a]);return n}function o(t,e){if(null==t)return{};var a,i,n=s(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var c=a("1da1"),u=(a("96cf"),a("b0c0"),a("c287")),l=a("4971"),d=a.n(l),p=a("f040"),m=a("2f62"),b=(a("24df"),{components:{VueSlider:d.a},mixins:[p["a"]],data:function(){return{traineeService:new u["a"],exerciseDetails:{},activeExerciseData:{},trainingData:{track:0,keyboardCode:[],personOne:{name:"",breakPoints:[]},personTwo:{name:"",breakPoints:[]}},exerciseMode:1,timer:null,buttonDisableState:{start:!1,stop:!0},inputFieldDisable:!1}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.traineeService.getExerciseData(t.$route.params.id);case 3:a=e.sent,i=a.details,n=o(a,["details"]),t.exerciseDetails=i,t.activeExerciseData=n,t.exerciseMode="single"===t.activeExerciseData.mode?1:2,t.trainingData.personOne.name=t.getUserFullName,t.trainingData.details=i,t.trainingData=Object(r["a"])(Object(r["a"])({},t.trainingData),n),1===t.exerciseMode&&delete t.trainingData.personTwo,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},destroyed:function(){this.stopExercise(),this.restartExercise()},methods:{startExercise:function(){var t=this;this.buttonDisableState.start=!0,this.buttonDisableState.stop=!1,this.inputFieldDisable=!0,this.timer=setInterval((function(){t.trainingData.track<t.exerciseDetails.duration&&(t.trainingData.track+=1),t.trainingData.track===t.exerciseDetails.duration&&(console.log(t.trainingData.track===t.exerciseDetails.duration),setTimeout((function(){clearInterval(t.timer),t.buttonDisableState.start=!1,t.buttonDisableState.stop=!0,document.removeEventListener("keyup",t.keyBoardEvent),t.activitiesSubmit()}),1e3))}),1e3),document.addEventListener("keyup",this.keyBoardEvent)},stopExercise:function(){clearInterval(this.timer),this.buttonDisableState.start=!1,this.buttonDisableState.stop=!0,this.inputFieldDisable=!1,document.removeEventListener("keyup",this.keyBoardEvent)},restartExercise:function(){this.trainingData.track=0,this.trainingData.personOne.breakPoints=[],this.trainingData.personTwo.breakPoints=[]},keyBoardEvent:function(t){this.trainingData.personOne&&"Enter"===t.code&&this.trainingData.personOne.breakPoints.push(this.trainingData.track),this.trainingData.personTwo&&"Space"===t.code&&this.trainingData.personTwo.breakPoints.push(this.trainingData.track),this.trainingData.keyboardCode.push(t.code)},activitiesSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.traineeService.exercisePerformed(t.$route.params.id,t.trainingData);case 3:t.showMessage({success:!0,message:"Exercise successfully completed"}),setTimeout((function(){t.$router.push({name:"Dashboard"})}),3e3),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.showMessage({message:null!==(a=null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message)&&void 0!==a?a:"Something Wrong!!!"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},computed:Object(r["a"])({},Object(m["b"])("user",["getUserFullName"]))}),f=b,h=(a("dc5d"),a("2877")),v=Object(h["a"])(f,i,n,!1,null,null,null);e["default"]=v.exports},b4c3:function(t,e,a){},c287:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var i=a("d4ec"),n=a("bee2"),r=a("262e"),s=a("2caf"),o=(a("99af"),a("b775")),c=a("3a78"),u=function(t){Object(r["a"])(a,t);var e=Object(s["a"])(a);function a(){Object(i["a"])(this,a);var t="trainee";return e.call(this,t)}return Object(n["a"])(a,[{key:"resetPassword",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/reset"),method:"patch",data:t}).then((function(t){return t}))}},{key:"profileUpdate",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/update"),method:"patch",data:t}).then((function(t){return t}))}},{key:"passwordUpdate",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/password"),method:"patch",data:t}).then((function(t){return t}))}},{key:"assignExercise",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/assign/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getActiveExerciseList",value:function(){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise"),method:"get"}).then((function(t){return t}))}},{key:"getExerciseData",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"exercisePerformed",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/performed/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getCompleteExerciseList",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"getExerciseReport",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(t,"/").concat(e),method:"get"}).then((function(t){return t}))}},{key:"login",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/login"),method:"post",data:t}).then((function(t){return t}))}}]),a}(c["a"])},dc5d:function(t,e,a){"use strict";a("b4c3")},f040:function(t,e,a){"use strict";a("159b");var i={data:function(){return{isSuccessful:!1,messageDisplay:"",timer:null,success:!1}},methods:{showMessage:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.isSuccessful=t.success,this.messageDisplay=t.message;var i=t.ref;i&&(this.$refs[i].style.display="block"),clearTimeout(this.timer),this.timer=setTimeout((function(){e.isSuccessful=!1,e.messageDisplay="",i&&(e.$refs[i].style.display="none")}),a)},resetAll:function(){var t=this;this.$options.formFields.forEach((function(e){"string"===typeof t.$data[e]?t.$data[e]="":"number"===typeof t.$data[e]?t.$data[e]=0:Array.isArray(t.$data[e])?t.$data[e]=[]:t.$data[e]={}}))}},computed:{formData:function(){var t=this,e={};return this.$options.formFields.forEach((function(a){t.$data[a]&&(e[a]=t.$data[a])})),e}}};e["a"]=i}}]);
//# sourceMappingURL=trainee-exercise.85a066e8.js.map