(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manual-exercise"],{"05ce":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"outer-w3-agile col-xl mt-3"},[i("h4",{staticClass:"tittle-w3-agileits mb-4"},[t._v(" Perform Exercise: "+t._s(t.activeExerciseData.trainingName)+" ")]),t.messageDisplay?i("div",{staticClass:"alert",class:[t.isSuccessful?"alert-success":"alert-danger"],attrs:{role:"alert"}},[t._v(" "+t._s(t.messageDisplay)+" ")]):t._e(),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"courseCode"}},[t._v("Exercise Time Slot")]),i("div",{staticClass:"mt-5"},[i("vue-slider",{attrs:{min:0,max:t.exerciseDetails.duration,tooltip:"always",process:!1,marks:!0,disabled:""},model:{value:t.exerciseDetails.breakPoints,callback:function(e){t.$set(t.exerciseDetails,"breakPoints",e)},expression:"exerciseDetails.breakPoints"}})],1)]),i("div",{staticClass:"form-group mt-5 mb-5"},[i("label",{attrs:{for:"courseCode"}},[t._v("Training Time Slot")]),i("div",{staticClass:"mt-5"},[i("vue-slider",{attrs:{min:0,max:t.getDurationInMinisecond,tooltip:"always","tooltip-formatter":t.formatToolTipLabel,process:!1,disabled:""},model:{value:t.trainingData.track,callback:function(e){t.$set(t.trainingData,"track",e)},expression:"trainingData.track"}})],1)]),i("div",{staticClass:"form-group"},[i("label",[t._v("Body Position: "+t._s(t.activeExerciseData.bodyPosition))])]),i("div",{staticClass:"form-group"},[i("label",[t._v("Eyes Activity: "+t._s(t.activeExerciseData.eyesActivity))])]),i("div",{staticClass:"form-group"},[i("label",[t._v("Exercise Mode: "+t._s(t.activeExerciseData.mode))])]),i("div",{staticClass:"form-group"},[i("label",[t._v("First Person Name: "+t._s(t.getUserFullName))]),i("br"),i("label",[t._v("Break Points: "+t._s(t.trainingData.personOne.breakPoints.join(", ")))])]),2===t.exerciseMode?i("div",{staticClass:"form-group"},[i("label",[t._v(" Second Person Name: "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.trainingData.personTwo.name,expression:"trainingData.personTwo.name"}],staticClass:"form-control text-input",attrs:{type:"text",disabled:t.inputFieldDisable},domProps:{value:t.trainingData.personTwo.name},on:{input:function(e){e.target.composing||t.$set(t.trainingData.personTwo,"name",e.target.value)}}})]),i("br"),i("label",[t._v("Break Points: "+t._s(t.trainingData.personTwo.breakPoints.join(", ")))])]):t._e(),i("div",{staticClass:"form-group mt-5"},[i("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.start},on:{click:t.startExercise}},[t._v(" Start ")]),i("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.stop},on:{click:t.stopExercise}},[t._v(" Stop ")]),i("button",{staticClass:"btn btn-sm btn-info mr-2",on:{click:t.restartExercise}},[t._v(" Reset ")])])])])},a=[],r=i("5530");i("a4d3"),i("b64b");function s(t,e){if(null==t)return{};var i,n,a={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(a[i]=t[i]);return a}function o(t,e){if(null==t)return{};var i,n,a=s(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}var c=i("1da1"),u=(i("96cf"),i("b0c0"),i("b680"),i("c287")),l=i("4971"),d=i.n(l),f=i("f040"),p=i("2f62"),b=(i("24df"),{components:{VueSlider:d.a},mixins:[f["a"]],data:function(){return{traineeService:new u["a"],exerciseDetails:{},activeExerciseData:{},trainingData:{type:"manual",track:0,eventCode:[],personOne:{name:"",breakPoints:[]},personTwo:{name:"",breakPoints:[]}},exerciseMode:1,timer:null,buttonDisableState:{start:!1,stop:!0},inputFieldDisable:!1,checker:!0}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.traineeService.getExerciseData(t.$route.params.id);case 3:n=e.sent,a=n.details,s=o(n,["details"]),t.exerciseDetails=a,t.activeExerciseData=s,t.exerciseMode="single"===(null===(i=t.activeExerciseData.mode)||void 0===i?void 0:i.toLowerCase())?1:2,t.trainingData.personOne.name=t.getUserFullName,t.trainingData.details=a,t.trainingData=Object(r["a"])(Object(r["a"])({},t.trainingData),s),1===t.exerciseMode&&delete t.trainingData.personTwo,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},destroyed:function(){this.stopExercise(),this.restartExercise()},methods:{startExercise:function(){var t=this;2!==this.exerciseMode||""!==this.trainingData.personTwo.name?(this.buttonDisableState.start=!0,this.buttonDisableState.stop=!1,this.inputFieldDisable=!0,this.timer=setInterval((function(){t.trainingData.track<t.getDurationInMinisecond&&(t.trainingData.track+=1),t.trainingData.track===t.getDurationInMinisecond&&setTimeout((function(){clearInterval(t.timer),t.buttonDisableState.start=!1,t.buttonDisableState.stop=!0,document.removeEventListener("keyup",t.clickEvent),document.removeEventListener("mouseup",t.clickEvent),t.activitiesSubmit()}),1e3)}),1),document.addEventListener("keyup",this.clickEvent),document.addEventListener("mouseup",this.clickEvent)):this.showMessage({message:"Please, fillup second person name"})},stopExercise:function(){clearInterval(this.timer),this.buttonDisableState.start=!1,this.buttonDisableState.stop=!0,this.inputFieldDisable=!1,document.removeEventListener("keyup",this.clickEvent),document.removeEventListener("mouseup",this.clickEvent)},restartExercise:function(){this.trainingData.track=0,this.trainingData.personOne.breakPoints=[],this.trainingData.personTwo.breakPoints=[]},clickEvent:function(t){!this.trainingData.personOne||"Enter"!==t.code&&"mouseup"!==t.type||this.trainingData.personOne.breakPoints.push(this.getTrackInSecond),this.trainingData.personTwo&&"Space"===t.code&&this.trainingData.personTwo.breakPoints.push(this.getTrackInSecond),"keyup"===t.type&&this.trainingData.eventCode.push(t.code),"mouseup"===t.type&&this.trainingData.eventCode.push(t.button)},activitiesSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.checker){e.next=3;break}return e.abrupt("return");case 3:return t.checker=!1,e.next=6,t.traineeService.exercisePerformed(t.$route.params.id,t.trainingData);case 6:t.showMessage({success:!0,message:"Exercise successfully completed"}),setTimeout((function(){t.$router.push({name:"ActiveExercise"})}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.showMessage({message:null!==(i=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)&&void 0!==i?i:"Something Wrong!!!"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},formatToolTipLabel:function(t){return((null!==t&&void 0!==t?t:0)/1e3).toFixed(2)}},computed:Object(r["a"])({getTrackInSecond:function(){return(this.trainingData.track/1e3).toFixed(2)},getDurationInMinisecond:function(){var t,e;return 1e3*(null!==(t=null===(e=this.exerciseDetails)||void 0===e?void 0:e.duration)&&void 0!==t?t:0)}},Object(p["b"])("user",["getUserFullName"]))}),m=b,v=(i("ef88"),i("2877")),h=Object(v["a"])(m,n,a,!1,null,null,null);e["default"]=h.exports},"0bc2":function(t,e,i){"use strict";i("12ea")},1148:function(t,e,i){"use strict";var n=i("a691"),a=i("1d80");t.exports=function(t){var e=String(a(this)),i="",r=n(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},"12c2":function(t,e,i){t.exports=i.p+"media/beep.aab3f7ea.mp3"},"12ea":function(t,e,i){},2532:function(t,e,i){"use strict";var n=i("23e7"),a=i("5a34"),r=i("1d80"),s=i("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(r(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"44e7":function(t,e,i){var n=i("861d"),a=i("c6b6"),r=i("b622"),s=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==a(t))}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),a=i("5899"),r="["+a+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(s,"")),2&t&&(i=i.replace(o,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5a34":function(t,e,i){var n=i("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5fdd":function(t,e,i){},6662:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"outer-w3-agile col-xl mt-3"},[t.report?i("div",[i("h4",{staticClass:"tittle-w3-agileits mb-4"},[t._v(t._s(t.exerciseDetails.name)+" Exercise Report")]),i("div",{staticClass:"form-group"},[i("label",[t._v("Person Name: "+t._s(t.getUserFullName))]),i("br"),i("label",[t._v("Break Points: "+t._s(t.trainingData.personOne.breakPoints.join(", ")))]),i("br"),i("label",[t._v("Time Conflict: "+t._s(t.timeConflictResult))])]),i("div",{staticClass:"form-group mt-5"},[i("button",{staticClass:"btn btn-sm btn-info mr-2",on:{click:t.backToDashBoard}},[t._v(" Back To Dashboard ")])])]):i("div",[i("h4",{staticClass:"tittle-w3-agileits mb-4"},[t._v(" Perform Automatic Exercise: "+t._s(t.exerciseDetails.name)+" ")]),i("div",{staticClass:"form-group"},[i("label",[t._v("Person Name: "+t._s(t.getUserFullName))]),i("br"),i("label",[t._v("Timer: "+t._s(t.getTrackInSecond)+" sec")])]),i("div",{staticClass:"form-group mt-5"},[i("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.start},on:{click:t.startExercise}},[t._v(" Start ")]),i("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.stop},on:{click:t.stopExercise}},[t._v(" Stop ")]),i("button",{staticClass:"btn btn-sm btn-info mr-2",on:{click:t.restartExercise}},[t._v(" Reset ")]),i("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.finish},on:{click:t.exerciseFinish}},[t._v(" Finish ")])])])])])},a=[],r=i("5530"),s=i("1da1"),o=(i("96cf"),i("b0c0"),i("caad"),i("2532"),i("b680"),i("a9e3"),i("c287")),c=i("f040"),u=i("2f62"),l=i("12c2"),d=i.n(l),f={mixins:[c["a"]],data:function(){return{traineeService:new o["a"],exerciseDetails:{},trainingData:{track:0,personOne:{name:"",breakPoints:[]}},timer:null,buttonDisableState:{start:!1,stop:!0,finish:!0},audio:null,report:!1}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.audio=new Audio(d.a),e.next=4,t.traineeService.getAutomaticExercise(t.$route.params.id);case 4:i=e.sent,t.exerciseDetails=i,t.trainingData.personOne.name=t.getUserFullName,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},destroyed:function(){this.stopExercise(),this.restartExercise()},methods:{startExercise:function(){var t=this;this.buttonDisableState.start=!0,this.buttonDisableState.stop=!1,this.buttonDisableState.finish=!1,this.timer=setInterval((function(){var e,i,n;(t.trainingData.track+=1,t.exerciseDetails.breakPoints.includes(t.trainingData.track/1e3))&&(t.audio.play(),null===(e=t.trainingData)||void 0===e||null===(i=e.personOne)||void 0===i||null===(n=i.breakPoints)||void 0===n||n.push(t.getTrackInSecond))}),1)},stopExercise:function(){clearInterval(this.timer),this.buttonDisableState.start=!1,this.buttonDisableState.stop=!0,this.buttonDisableState.finish=!0},restartExercise:function(){this.stopExercise(),this.trainingData.track=0,this.trainingData.personOne.breakPoints=[]},formatToolTipLabel:function(t){return((null!==t&&void 0!==t?t:0)/1e3).toFixed(2)},exerciseFinish:function(){this.stopExercise(),this.report=!0},backToDashBoard:function(){this.$router.push({name:"Dashboard"})}},computed:Object(r["a"])({getTrackInSecond:function(){return Number((this.trainingData.track/1e3).toFixed(2))},getDurationInMinisecond:function(){var t,e;return 1e3*(null!==(t=null===(e=this.exerciseDetails)||void 0===e?void 0:e.duration)&&void 0!==t?t:0)},timeConflict:function(){return this.trainingData.track-this.getDurationInMinisecond},timeConflictResult:function(){return this.timeConflict<0?"Stop before ".concat((Math.abs(this.timeConflict)/1e3).toFixed(2)," sec"):0===this.timeConflict?"Stop at 0 sec":"Stop after ".concat((Math.abs(this.timeConflict)/1e3).toFixed(2)," sec")}},Object(u["b"])("user",["getUserFullName"]))},p=f,b=(i("0bc2"),i("2877")),m=Object(b["a"])(p,n,a,!1,null,null,null);e["default"]=m.exports},7156:function(t,e,i){var n=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var r,s;return a&&"function"==typeof(r=e.constructor)&&r!==i&&n(s=r.prototype)&&s!==i.prototype&&a(t,s),t}},a9e3:function(t,e,i){"use strict";var n=i("83ab"),a=i("da84"),r=i("94ca"),s=i("6eeb"),o=i("5135"),c=i("c6b6"),u=i("7156"),l=i("c04e"),d=i("d039"),f=i("7c73"),p=i("241c").f,b=i("06cf").f,m=i("9bf2").f,v=i("58a8").trim,h="Number",g=a[h],x=g.prototype,D=c(f(x))==h,k=function(t){var e,i,n,a,r,s,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(r=u.slice(2),s=r.length,o=0;o<s;o++)if(c=r.charCodeAt(o),c<48||c>a)return NaN;return parseInt(r,n)}return+u};if(r(h,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var E,y=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof y&&(D?d((function(){x.valueOf.call(i)})):c(i)!=h)?u(new g(k(e)),i,y):k(e)},S=n?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;S.length>w;w++)o(g,E=S[w])&&!o(y,E)&&m(y,E,b(g,E));y.prototype=x,x.constructor=y,s(a,h,y)}},ab13:function(t,e,i){var n=i("b622"),a=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},b680:function(t,e,i){"use strict";var n=i("23e7"),a=i("a691"),r=i("408a"),s=i("1148"),o=i("d039"),c=1..toFixed,u=Math.floor,l=function(t,e,i){return 0===e?i:e%2===1?l(t,e-1,i*t):l(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=function(t,e,i){var n=-1,a=i;while(++n<6)a+=e*t[n],t[n]=a%1e7,a=u(a/1e7)},p=function(t,e){var i=6,n=0;while(--i>=0)n+=t[i],t[i]=u(n/e),n=n%e*1e7},b=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var n=String(t[e]);i=""===i?n:i+s.call("0",7-n.length)+n}return i},m=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));n({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,i,n,o,c=r(this),u=a(t),m=[0,0,0,0,0,0],v="",h="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(v="-",c=-c),c>1e-21)if(e=d(c*l(2,69,1))-69,i=e<0?c*l(2,-e,1):c/l(2,e,1),i*=4503599627370496,e=52-e,e>0){f(m,0,i),n=u;while(n>=7)f(m,1e7,0),n-=7;f(m,l(10,n,1),0),n=e-1;while(n>=23)p(m,1<<23),n-=23;p(m,1<<n),f(m,1,1),p(m,2),h=b(m)}else f(m,0,i),f(m,1<<-e,0),h=b(m)+s.call("0",u);return u>0?(o=h.length,h=v+(o<=u?"0."+s.call("0",u-o)+h:h.slice(0,o-u)+"."+h.slice(o-u))):h=v+h,h}})},c287:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("d4ec"),a=i("bee2"),r=i("262e"),s=i("2caf"),o=(i("99af"),i("b775")),c=i("3a78"),u=function(t){Object(r["a"])(i,t);var e=Object(s["a"])(i);function i(){Object(n["a"])(this,i);var t="trainee";return e.call(this,t)}return Object(a["a"])(i,[{key:"resetPassword",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/reset"),method:"patch",data:t}).then((function(t){return t}))}},{key:"profileUpdate",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/update"),method:"patch",data:t}).then((function(t){return t}))}},{key:"passwordUpdate",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/password"),method:"patch",data:t}).then((function(t){return t}))}},{key:"assignExercise",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/assign/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getActiveExerciseList",value:function(){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise"),method:"get"}).then((function(t){return t}))}},{key:"getExerciseData",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"exercisePerformed",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/performed/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getCompleteExerciseList",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"getExerciseReport",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(t,"/").concat(e),method:"get"}).then((function(t){return t}))}},{key:"login",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/login"),method:"post",data:t}).then((function(t){return t}))}},{key:"getAutomaticExerciseList",value:function(){return Object(o["a"])({url:"".concat(this.apiURL,"/automatic-exercise"),method:"get"}).then((function(t){return t}))}},{key:"getAutomaticExercise",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/automatic-exercise/").concat(t),method:"get"}).then((function(t){return t}))}}]),i}(c["a"])},ef88:function(t,e,i){"use strict";i("5fdd")},f040:function(t,e,i){"use strict";i("159b");var n={data:function(){return{isSuccessful:!1,messageDisplay:"",timer:null,success:!1}},methods:{showMessage:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.isSuccessful=t.success,this.messageDisplay=t.message;var n=t.ref;n&&(this.$refs[n].style.display="block"),clearTimeout(this.timer),this.timer=setTimeout((function(){e.isSuccessful=!1,e.messageDisplay="",n&&(e.$refs[n].style.display="none")}),i)},resetAll:function(){var t=this;this.$options.formFields.forEach((function(e){"string"===typeof t.$data[e]?t.$data[e]="":"number"===typeof t.$data[e]?t.$data[e]=0:Array.isArray(t.$data[e])?t.$data[e]=[]:t.$data[e]={}}))}},computed:{formData:function(){var t=this,e={};return this.$options.formFields.forEach((function(i){t.$data[i]&&(e[i]=t.$data[i])})),e}}};e["a"]=n}}]);
//# sourceMappingURL=manual-exercise.ba3fb66a.js.map