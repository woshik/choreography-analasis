(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trainee"],{"54a7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"outer-w3-agile col-xl mt-3"},[e.messageDisplay?a("div",{staticClass:"alert",class:[e.isSuccessful?"alert-success":"alert-danger"],attrs:{role:"alert"}},[e._v(" "+e._s(e.messageDisplay)+" ")]):e._e(),a("button",{staticClass:"btn btn-primary mb-3 float-right",on:{click:e.addTrainee}},[e._v(" Add Trainee ")]),a("vue-table",{ref:"vuetable",attrs:{fields:e.tableFields,"table-data":e.tabeleData,"total-row":e.totalRow},on:{"edit-row":e.editRow,"delete-row":e.deleteRow,"api-call":e.callToAPi},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.rowData;return[a("button",{staticClass:"btn btn-success btn-sm m-1",on:{click:function(t){return e.assignExercise(n)}}},[a("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),e._v(" Assign Manual Exercise ")],1),a("button",{staticClass:"btn btn-info btn-sm m-1",on:{click:function(t){return e.resetPassword(n)}}},[a("font-awesome-icon",{attrs:{icon:"redo"}}),e._v(" Reset Password ")],1)]}}])})],1),e.showModal.deleteModal?a("modal-window",{on:{open:e.handleModal},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Delete Trainee ")]},proxy:!0},{key:"footer",fn:function(){return[a("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteRow(null)}}},[e._v("Delete")])]},proxy:!0}],null,!1,3216032054)},[e._v(" Do you want to really delete this trainee? ")]):e._e(),e.showModal.resetModal?a("modal-window",{on:{open:e.handleModal},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Reset Acount Password ")]},proxy:!0},{key:"footer",fn:function(){return[a("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.resetPassword(null)}}},[e._v("Change")])]},proxy:!0}],null,!1,3803252769)},[e._v(" Do you want to really change account passwrd?"),a("br"),e._v(" Reset password will be: 123456 ")]):e._e()],1)},s=[],r=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),a("c287")),l=a("f040"),i=a("0748"),c=a("9fa3"),d={mixins:[l["a"]],components:{VueTable:i["a"],ModalWindow:function(){return a.e("chunk-2d0d5ffe").then(a.bind(null,"714b"))}},data:function(){return{index:1,traineeService:new o["a"],tableFields:[{name:c["a"],title:"No."},{name:"fullName",title:"Full Name"},{name:"dob",title:"Date of Birth",formatter:function(e){console.log(e);var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}},{name:"username",title:"Username"},{name:"actions",title:"Actions"}],tabeleData:[],totalRow:0,showModal:{deleteModal:!1,resetModal:!1},selectedId:""}},methods:{callToAPi:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.traineeService.get(e);case 3:n=a.sent,t.tabeleData=n.data,t.totalRow=n.total,t.$nextTick((function(){t.$refs.vuetable.updateTable()})),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),t.showMessage({message:null!==(s=null===a.t0||void 0===a.t0||null===(r=a.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)&&void 0!==s?s:"Something Wrong!!!"});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addTrainee:function(){this.$router.push({name:"AddTrainee"})},editRow:function(e){this.$router.push({name:"EditTrainee",params:{id:e}})},deleteRow:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=4;break}return t.selectedId=e,t.handleModal(!0,"deleteModal"),a.abrupt("return");case 4:return a.prev=4,a.next=7,t.traineeService.delete({id:t.selectedId});case 7:t.callToAPi(),t.handleModal(!1,"deleteModal"),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),t.showMessage({message:null!==(n=null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)&&void 0!==n?n:"Something Wrong!!!"});case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()},resetPassword:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=4;break}return t.selectedId=e._id,t.handleModal(!0,"resetModal"),a.abrupt("return");case 4:return a.prev=4,a.next=7,t.traineeService.resetPassword({id:t.selectedId});case 7:t.handleModal(!1,"resetModal"),t.showMessage({success:!0,message:"Password Successfully Reset. New Password: 123456"}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),t.showMessage({message:null!==(n=null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)&&void 0!==n?n:"Something Wrong!!!"});case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()},handleModal:function(e,t){t?this.showModal[t]=e:(this.showModal.deleteModal=e,this.showModal.resetModal=e)},assignExercise:function(e){this.$router.push({name:"AssignExercise",params:{id:e._id}})}}},u=d,f=a("2877"),h=Object(f["a"])(u,n,s,!1,null,null,null);t["default"]=h.exports},f040:function(e,t,a){"use strict";a("159b");var n={data:function(){return{isSuccessful:!1,messageDisplay:"",timer:null,success:!1}},methods:{showMessage:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.isSuccessful=e.success,this.messageDisplay=e.message;var n=e.ref;n&&(this.$refs[n].style.display="block"),clearTimeout(this.timer),this.timer=setTimeout((function(){t.isSuccessful=!1,t.messageDisplay="",n&&(t.$refs[n].style.display="none")}),a)},resetAll:function(){var e=this;this.$options.formFields.forEach((function(t){"string"===typeof e.$data[t]?e.$data[t]="":"number"===typeof e.$data[t]?e.$data[t]=0:Array.isArray(e.$data[t])?e.$data[t]=[]:e.$data[t]={}}))}},computed:{formData:function(){var e=this,t={};return this.$options.formFields.forEach((function(a){e.$data[a]&&(t[a]=e.$data[a])})),t}}};t["a"]=n}}]);
//# sourceMappingURL=trainee.a14eaa37.js.map