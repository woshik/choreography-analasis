(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manual-exercise"],{"05ce":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"outer-w3-agile col-xl mt-3"},[a("h4",{staticClass:"tittle-w3-agileits mb-4"},[t._v(" Perform Exercise: "+t._s(t.activeExerciseData.trainingName)+" ")]),t.messageDisplay?a("div",{staticClass:"alert",class:[t.isSuccessful?"alert-success":"alert-danger"],attrs:{role:"alert"}},[t._v(" "+t._s(t.messageDisplay)+" ")]):t._e(),a("div",{staticClass:"form-group mt-5 mb-5"},[a("label",{attrs:{for:"courseCode"}},[t._v("Training Time Slot")]),a("div",{staticClass:"mt-5"},[a("vue-slider",{attrs:{min:0,max:t.getDurationInMinisecond,tooltip:"always","tooltip-formatter":t.formatToolTipLabel,process:!1,disabled:""},model:{value:t.trainingData.track,callback:function(e){t.$set(t.trainingData,"track",e)},expression:"trainingData.track"}})],1)]),a("div",{staticClass:"form-group"},[a("label",[t._v("Body Position: "+t._s(t.activeExerciseData.bodyPosition))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Eyes Activity: "+t._s(t.activeExerciseData.eyesActivity))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Exercise Mode: "+t._s(t.activeExerciseData.mode))])]),a("div",{staticClass:"form-group"},[a("label",[t._v("First Person Name: "+t._s(t.getUserFullName))]),a("br"),a("label",[t._v("Break Points: "+t._s(t.trainingData.personOne.breakPoints.join(", ")))])]),2===t.exerciseMode?a("div",{staticClass:"form-group"},[a("label",[t._v(" Second Person Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.trainingData.personTwo.name,expression:"trainingData.personTwo.name"}],staticClass:"form-control text-input",attrs:{type:"text",disabled:t.inputFieldDisable},domProps:{value:t.trainingData.personTwo.name},on:{input:function(e){e.target.composing||t.$set(t.trainingData.personTwo,"name",e.target.value)}}})]),a("br"),a("label",[t._v("Break Points: "+t._s(t.trainingData.personTwo.breakPoints.join(", ")))])]):t._e(),a("div",{staticClass:"form-group mt-5"},[a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.start},on:{click:t.startExercise}},[t._v(" Start ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.stop},on:{click:t.stopExercise}},[t._v(" Stop ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",on:{click:t.restartExercise}},[t._v(" Reset ")])])])])},i=[],r=a("5530");a("a4d3"),a("b64b");function s(t,e){if(null==t)return{};var a,n,i={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(i[a]=t[a]);return i}function o(t,e){if(null==t)return{};var a,n,i=s(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}var c=a("1da1"),u=(a("96cf"),a("b0c0"),a("b680"),a("c287")),l=a("4971"),d=a.n(l),m=a("f040"),p=a("2f62"),f=(a("24df"),{components:{VueSlider:d.a},mixins:[m["a"]],data:function(){return{traineeService:new u["a"],exerciseDetails:{},activeExerciseData:{},trainingData:{type:"manual",track:0,eventCode:[],personOne:{name:"",breakPoints:[]},personTwo:{name:"",breakPoints:[]}},exerciseMode:1,timer:null,buttonDisableState:{start:!1,stop:!0},inputFieldDisable:!1,checker:!0}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.traineeService.getExerciseData(t.$route.params.id);case 3:n=e.sent,i=n.details,s=o(n,["details"]),t.exerciseDetails=i,t.activeExerciseData=s,t.exerciseMode="single"===(null===(a=t.activeExerciseData.mode)||void 0===a?void 0:a.toLowerCase())?1:2,t.trainingData.personOne.name=t.getUserFullName,t.trainingData.details=i,t.trainingData=Object(r["a"])(Object(r["a"])({},t.trainingData),s),1===t.exerciseMode&&delete t.trainingData.personTwo,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},destroyed:function(){this.stopExercise(),this.restartExercise()},methods:{startExercise:function(){var t=this;2!==this.exerciseMode||""!==this.trainingData.personTwo.name?(this.buttonDisableState.start=!0,this.buttonDisableState.stop=!1,this.inputFieldDisable=!0,this.timer=setInterval((function(){t.trainingData.track<t.getDurationInMinisecond&&(t.trainingData.track+=1),t.trainingData.track===t.getDurationInMinisecond&&setTimeout((function(){clearInterval(t.timer),t.buttonDisableState.start=!1,t.buttonDisableState.stop=!0,document.removeEventListener("keyup",t.clickEvent),document.removeEventListener("mouseup",t.clickEvent),t.activitiesSubmit()}),1e3)}),1),document.addEventListener("keyup",this.clickEvent),document.addEventListener("mouseup",this.clickEvent)):this.showMessage({message:"Please, fillup second person name"})},stopExercise:function(){clearInterval(this.timer),this.buttonDisableState.start=!1,this.buttonDisableState.stop=!0,this.inputFieldDisable=!1,document.removeEventListener("keyup",this.clickEvent),document.removeEventListener("mouseup",this.clickEvent)},restartExercise:function(){this.trainingData.track=0,this.trainingData.personOne.breakPoints=[],this.trainingData.personTwo.breakPoints=[]},clickEvent:function(t){!this.trainingData.personOne||"Enter"!==t.code&&"mouseup"!==t.type||this.trainingData.personOne.breakPoints.push(this.getTrackInSecond),this.trainingData.personTwo&&"Space"===t.code&&this.trainingData.personTwo.breakPoints.push(this.getTrackInSecond),"keyup"===t.type&&this.trainingData.eventCode.push(t.code),"mouseup"===t.type&&this.trainingData.eventCode.push(t.button)},activitiesSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.checker){e.next=3;break}return e.abrupt("return");case 3:return t.checker=!1,e.next=6,t.traineeService.exercisePerformed(t.$route.params.id,t.trainingData);case 6:t.showMessage({success:!0,message:"Exercise successfully completed"}),setTimeout((function(){t.$router.push({name:"ActiveExercise"})}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.showMessage({message:null!==(a=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)&&void 0!==a?a:"Something Wrong!!!"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},formatToolTipLabel:function(t){return((null!==t&&void 0!==t?t:0)/1e3).toFixed(2)}},computed:Object(r["a"])({getTrackInSecond:function(){return(this.trainingData.track/1e3).toFixed(2)},getDurationInMinisecond:function(){var t,e;return 1e3*(null!==(t=null===(e=this.exerciseDetails)||void 0===e?void 0:e.duration)&&void 0!==t?t:0)}},Object(p["b"])("user",["getUserFullName"]))}),b=f,v=(a("ef88"),a("2877")),h=Object(v["a"])(b,n,i,!1,null,null,null);e["default"]=h.exports},"0bc2":function(t,e,a){"use strict";a("12ea")},1148:function(t,e,a){"use strict";var n=a("a691"),i=a("1d80");t.exports=function(t){var e=String(i(this)),a="",r=n(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},"12c2":function(t,e,a){t.exports=a.p+"media/beep.aab3f7ea.mp3"},"12ea":function(t,e,a){},2532:function(t,e,a){"use strict";var n=a("23e7"),i=a("5a34"),r=a("1d80"),s=a("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(r(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"408a":function(t,e,a){var n=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"44e7":function(t,e,a){var n=a("861d"),i=a("c6b6"),r=a("b622"),s=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},"5a34":function(t,e,a){var n=a("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5fdd":function(t,e,a){},6662:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"outer-w3-agile col-xl mt-3"},[a("h4",{staticClass:"tittle-w3-agileits mb-4"},[t._v(" Perform Automatic Exercise: "+t._s(t.exerciseDetails.name)+" ")]),a("div",{staticClass:"form-group"},[a("label",[t._v("Person Name: "+t._s(t.getUserFullName))]),a("br"),a("label",[t._v("Timer: "+t._s(t.trainingData.track)+" sec")])]),a("label",[t._v(" Exercise Performed: "+t._s(t.exerciseDetails.count)+" Time")]),a("div",{staticClass:"form-group mt-5"},[a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.start},on:{click:t.startExercise}},[t._v(" Start ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:t.buttonDisableState.stop},on:{click:t.stopExercise}},[t._v(" Stop ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",on:{click:t.restartExercise}},[t._v(" Reset ")])])])])},i=[],r=a("5530"),s=a("1da1"),o=(a("96cf"),a("b0c0"),a("caad"),a("2532"),a("c287")),c=a("f040"),u=a("2f62"),l=a("12c2"),d=a.n(l),m={mixins:[c["a"]],data:function(){return{traineeService:new o["a"],exerciseDetails:{},trainingData:{track:0,personOne:{name:"",breakPoints:[]}},timer:null,buttonDisableState:{start:!1,stop:!0},audio:null,report:!1}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.audio=new Audio(d.a),e.next=4,t.traineeService.getAutomaticExercise(t.$route.params.id);case 4:a=e.sent,t.exerciseDetails=a,t.trainingData.personOne.name=t.getUserFullName,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},destroyed:function(){this.stopExercise(),this.restartExercise()},methods:{startExercise:function(){var t=this;this.buttonDisableState.start=!0,this.buttonDisableState.stop=!1,this.timer=setInterval((function(){t.trainingData.track+=1,t.exerciseDetails.breakPoints.includes(t.trainingData.track)&&t.audio.play(),t.exerciseDetails.duration===t.trainingData.track&&t.automaticExerciseCount()}),1e3)},stopExercise:function(){clearInterval(this.timer),this.buttonDisableState.start=!1,this.buttonDisableState.stop=!0},restartExercise:function(){this.stopExercise(),this.trainingData.track=0,this.trainingData.personOne.breakPoints=[]},backToDashBoard:function(){this.$router.push({name:"Dashboard"})},automaticExerciseCount:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.stopExercise(),e.prev=1,e.next=4,t.traineeService.automaticExerciseCount(t.$route.params.id);case 4:t.exerciseDetails.count+=1,t.restartExercise(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}},computed:Object(r["a"])({},Object(u["b"])("user",["getUserFullName"]))},p=m,f=(a("0bc2"),a("2877")),b=Object(f["a"])(p,n,i,!1,null,null,null);e["default"]=b.exports},ab13:function(t,e,a){var n=a("b622"),i=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[i]=!1,"/./"[t](e)}catch(n){}}return!1}},b680:function(t,e,a){"use strict";var n=a("23e7"),i=a("a691"),r=a("408a"),s=a("1148"),o=a("d039"),c=1..toFixed,u=Math.floor,l=function(t,e,a){return 0===e?a:e%2===1?l(t,e-1,a*t):l(t*t,e/2,a)},d=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},m=function(t,e,a){var n=-1,i=a;while(++n<6)i+=e*t[n],t[n]=i%1e7,i=u(i/1e7)},p=function(t,e){var a=6,n=0;while(--a>=0)n+=t[a],t[a]=u(n/e),n=n%e*1e7},f=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var n=String(t[e]);a=""===a?n:a+s.call("0",7-n.length)+n}return a},b=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));n({target:"Number",proto:!0,forced:b},{toFixed:function(t){var e,a,n,o,c=r(this),u=i(t),b=[0,0,0,0,0,0],v="",h="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(v="-",c=-c),c>1e-21)if(e=d(c*l(2,69,1))-69,a=e<0?c*l(2,-e,1):c/l(2,e,1),a*=4503599627370496,e=52-e,e>0){m(b,0,a),n=u;while(n>=7)m(b,1e7,0),n-=7;m(b,l(10,n,1),0),n=e-1;while(n>=23)p(b,1<<23),n-=23;p(b,1<<n),m(b,1,1),p(b,2),h=f(b)}else m(b,0,a),m(b,1<<-e,0),h=f(b)+s.call("0",u);return u>0?(o=h.length,h=v+(o<=u?"0."+s.call("0",u-o)+h:h.slice(0,o-u)+"."+h.slice(o-u))):h=v+h,h}})},c287:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var n=a("d4ec"),i=a("bee2"),r=a("262e"),s=a("2caf"),o=(a("99af"),a("b775")),c=a("3a78"),u=function(t){Object(r["a"])(a,t);var e=Object(s["a"])(a);function a(){Object(n["a"])(this,a);var t="trainee";return e.call(this,t)}return Object(i["a"])(a,[{key:"resetPassword",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/reset"),method:"patch",data:t}).then((function(t){return t}))}},{key:"profileUpdate",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/update"),method:"patch",data:t}).then((function(t){return t}))}},{key:"passwordUpdate",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/password"),method:"patch",data:t}).then((function(t){return t}))}},{key:"assignExercise",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/assign/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getActiveExerciseList",value:function(){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise"),method:"get"}).then((function(t){return t}))}},{key:"getExerciseData",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"exercisePerformed",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/performed/").concat(t),method:"post",data:e}).then((function(t){return t}))}},{key:"getCompleteExerciseList",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"getExerciseReport",value:function(t,e){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(t,"/").concat(e),method:"get"}).then((function(t){return t}))}},{key:"login",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/login"),method:"post",data:t}).then((function(t){return t}))}},{key:"getAutomaticExerciseList",value:function(){return Object(o["a"])({url:"".concat(this.apiURL,"/automatic-exercise"),method:"get"}).then((function(t){return t}))}},{key:"getAutomaticExercise",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/automatic-exercise/").concat(t),method:"get"}).then((function(t){return t}))}},{key:"automaticExerciseCount",value:function(t){return Object(o["a"])({url:"".concat(this.apiURL,"/automatic-exercise/count/").concat(t),method:"post"}).then((function(t){return t}))}}]),a}(c["a"])},ef88:function(t,e,a){"use strict";a("5fdd")},f040:function(t,e,a){"use strict";a("159b");var n={data:function(){return{isSuccessful:!1,messageDisplay:"",timer:null,success:!1}},methods:{showMessage:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.isSuccessful=t.success,this.messageDisplay=t.message;var n=t.ref;n&&(this.$refs[n].style.display="block"),clearTimeout(this.timer),this.timer=setTimeout((function(){e.isSuccessful=!1,e.messageDisplay="",n&&(e.$refs[n].style.display="none")}),a)},resetAll:function(){var t=this;this.$options.formFields.forEach((function(e){"string"===typeof t.$data[e]?t.$data[e]="":"number"===typeof t.$data[e]?t.$data[e]=0:Array.isArray(t.$data[e])?t.$data[e]=[]:t.$data[e]={}}))}},computed:{formData:function(){var t=this,e={};return this.$options.formFields.forEach((function(a){t.$data[a]&&(e[a]=t.$data[a])})),e}}};e["a"]=n}}]);
//# sourceMappingURL=manual-exercise.e71c5e4a.js.map