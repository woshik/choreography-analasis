{"version":3,"sources":["webpack:///./src/views/trainer/Trainee.vue?951a","webpack:///src/views/trainer/Trainee.vue","webpack:///./src/views/trainer/Trainee.vue?ae6c","webpack:///./src/views/trainer/Trainee.vue","webpack:///./src/mixins/FormValidation.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isSuccessful","attrs","_v","_s","messageDisplay","_e","on","addTrainee","ref","tableFields","tabeleData","totalRow","editRow","deleteRow","callToAPi","scopedSlots","_u","key","fn","rowData","$event","assignExercise","resetPassword","showModal","handleModal","proxy","staticRenderFns","mixins","components","VueTable","ModalWindow","data","index","traineeService","deleteModal","resetModal","selectedId","methods","$router","push","modalName","open","component","FormValidation","timer","success","showMessage","messageObj","time","message","$refs","style","display","clearTimeout","setTimeout","resetAll","$options","formFields","forEach","$data","Array","isArray","computed","formData"],"mappings":"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","file":"js/trainee.a14eaa37.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"outer-w3-agile col-xl mt-3\"},[(_vm.messageDisplay)?_c('div',{staticClass:\"alert\",class:[_vm.isSuccessful ? 'alert-success' : 'alert-danger'],attrs:{\"role\":\"alert\"}},[_vm._v(\" \"+_vm._s(_vm.messageDisplay)+\" \")]):_vm._e(),_c('button',{staticClass:\"btn btn-primary mb-3 float-right\",on:{\"click\":_vm.addTrainee}},[_vm._v(\" Add Trainee \")]),_c('vue-table',{ref:\"vuetable\",attrs:{\"fields\":_vm.tableFields,\"table-data\":_vm.tabeleData,\"total-row\":_vm.totalRow},on:{\"edit-row\":_vm.editRow,\"delete-row\":_vm.deleteRow,\"api-call\":_vm.callToAPi},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar rowData = ref.rowData;\nreturn [_c('button',{staticClass:\"btn btn-success btn-sm m-1\",on:{\"click\":function($event){return _vm.assignExercise(rowData)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"sign-in-alt\"}}),_vm._v(\" Assign Manual Exercise \")],1),_c('button',{staticClass:\"btn btn-info btn-sm m-1\",on:{\"click\":function($event){return _vm.resetPassword(rowData)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"redo\"}}),_vm._v(\" Reset Password \")],1)]}}])})],1),(_vm.showModal.deleteModal)?_c('modal-window',{on:{\"open\":_vm.handleModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Delete Trainee \")]},proxy:true},{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.deleteRow(null)}}},[_vm._v(\"Delete\")])]},proxy:true}],null,false,3216032054)},[_vm._v(\" Do you want to really delete this trainee? \")]):_vm._e(),(_vm.showModal.resetModal)?_c('modal-window',{on:{\"open\":_vm.handleModal},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Reset Acount Password \")]},proxy:true},{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.resetPassword(null)}}},[_vm._v(\"Change\")])]},proxy:true}],null,false,3803252769)},[_vm._v(\" Do you want to really change account passwrd?\"),_c('br'),_vm._v(\" Reset password will be: 123456 \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <div class=\"outer-w3-agile col-xl mt-3\">\n      <div\n        v-if=\"messageDisplay\"\n        class=\"alert\"\n        :class=\"[isSuccessful ? 'alert-success' : 'alert-danger']\"\n        role=\"alert\"\n      >\n        {{ messageDisplay }}\n      </div>\n      <button class=\"btn btn-primary mb-3 float-right\" @click=\"addTrainee\">\n        Add Trainee\n      </button>\n      <vue-table\n        ref=\"vuetable\"\n        :fields=\"tableFields\"\n        :table-data=\"tabeleData\"\n        :total-row=\"totalRow\"\n        @edit-row=\"editRow\"\n        @delete-row=\"deleteRow\"\n        @api-call=\"callToAPi\"\n      >\n        <template v-slot:default=\"{ rowData }\">\n          <button class=\"btn btn-success btn-sm m-1\" @click=\"assignExercise(rowData)\">\n            <font-awesome-icon icon=\"sign-in-alt\" /> Assign Manual Exercise\n          </button>\n          <button class=\"btn btn-info btn-sm m-1\" @click=\"resetPassword(rowData)\">\n            <font-awesome-icon icon=\"redo\" /> Reset Password\n          </button>\n        </template>\n      </vue-table>\n    </div>\n\n    <modal-window v-if=\"showModal.deleteModal\" @open=\"handleModal\">\n      <template v-slot:title> Delete Trainee </template>\n      Do you want to really delete this trainee?\n      <template v-slot:footer>\n        <button class=\"btn btn-danger\" @click=\"deleteRow(null)\">Delete</button>\n      </template>\n    </modal-window>\n\n    <modal-window v-if=\"showModal.resetModal\" @open=\"handleModal\">\n      <template v-slot:title> Reset Acount Password </template>\n      Do you want to really change account passwrd?<br />\n      Reset password will be: 123456\n      <template v-slot:footer>\n        <button class=\"btn btn-danger\" @click=\"resetPassword(null)\">Change</button>\n      </template>\n    </modal-window>\n  </div>\n</template>\n\n<script>\nimport TraineeService from '@/services/trainee.service';\nimport FromValidation from '@/mixins/FormValidation';\nimport VueTable from '@/components/Table.vue';\nimport VuetableFieldSequence from 'vuetable-2/src/components/VuetableFieldSequence.vue';\n\nexport default {\n  mixins: [FromValidation],\n  components: {\n    VueTable,\n    ModalWindow: () => import('@/components/Modal.vue'),\n  },\n\n  data() {\n    return {\n      index: 1,\n      traineeService: new TraineeService(),\n      tableFields: [\n        { name: VuetableFieldSequence, title: 'No.' },\n        { name: 'fullName', title: 'Full Name' },\n        {\n          name: 'dob',\n          title: 'Date of Birth',\n          formatter(value) {\n            console.log(value);\n            const d = new Date(value);\n            return `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`;\n          },\n        },\n        { name: 'username', title: 'Username' },\n        {\n          name: 'actions',\n          title: 'Actions',\n        },\n      ],\n      tabeleData: [],\n      totalRow: 0,\n      showModal: {\n        deleteModal: false,\n        resetModal: false,\n      },\n      selectedId: '',\n    };\n  },\n  methods: {\n    async callToAPi(reqData) {\n      try {\n        const response = await this.traineeService.get(reqData);\n        this.tabeleData = response.data;\n        this.totalRow = response.total;\n        this.$nextTick(() => {\n          this.$refs.vuetable.updateTable();\n        });\n      } catch (error) {\n        this.showMessage({\n          message: error?.response?.data?.message ?? 'Something Wrong!!!',\n        });\n      }\n    },\n    addTrainee() {\n      this.$router.push({ name: 'AddTrainee' });\n    },\n    editRow(id) {\n      this.$router.push({ name: 'EditTrainee', params: { id } });\n    },\n    async deleteRow(id) {\n      if (id) {\n        this.selectedId = id;\n        this.handleModal(true, 'deleteModal');\n        return;\n      }\n\n      try {\n        await this.traineeService.delete({ id: this.selectedId });\n        this.callToAPi();\n        this.handleModal(false, 'deleteModal');\n      } catch (error) {\n        this.showMessage({\n          message: error?.response?.data?.message ?? 'Something Wrong!!!',\n        });\n      }\n    },\n\n    async resetPassword(traineeData) {\n      if (traineeData) {\n        this.selectedId = traineeData._id;\n        this.handleModal(true, 'resetModal');\n        return;\n      }\n\n      try {\n        await this.traineeService.resetPassword({ id: this.selectedId });\n        this.handleModal(false, 'resetModal');\n        this.showMessage({\n          success: true,\n          message: 'Password Successfully Reset. New Password: 123456',\n        });\n      } catch (error) {\n        this.showMessage({\n          message: error?.response?.data?.message ?? 'Something Wrong!!!',\n        });\n      }\n    },\n    handleModal(open, modalName) {\n      if (modalName) {\n        this.showModal[modalName] = open;\n      } else {\n        this.showModal.deleteModal = open;\n        this.showModal.resetModal = open;\n      }\n    },\n\n    assignExercise(traineeData) {\n      this.$router.push({ name: 'AssignExercise', params: { id: traineeData._id } });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trainee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trainee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trainee.vue?vue&type=template&id=1e26f290&\"\nimport script from \"./Trainee.vue?vue&type=script&lang=js&\"\nexport * from \"./Trainee.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const FormValidation = {\n  data() {\n    return {\n      isSuccessful: false,\n      messageDisplay: '',\n      timer: null,\n      success: false,\n    };\n  },\n  methods: {\n    showMessage(messageObj, time = 3000) {\n      this.isSuccessful = messageObj.success;\n      this.messageDisplay = messageObj.message;\n      const { ref } = messageObj;\n\n      if (ref) {\n        this.$refs[ref].style.display = 'block';\n      }\n      clearTimeout(this.timer);\n\n      this.timer = setTimeout(() => {\n        this.isSuccessful = false;\n        this.messageDisplay = '';\n        if (ref) {\n          this.$refs[ref].style.display = 'none';\n        }\n      }, time);\n    },\n\n    resetAll() {\n      this.$options.formFields.forEach((key) => {\n        if (typeof this.$data[key] === 'string') {\n          this.$data[key] = '';\n        } else if (typeof this.$data[key] === 'number') {\n          this.$data[key] = 0;\n        } else if (Array.isArray(this.$data[key])) {\n          this.$data[key] = [];\n        } else {\n          this.$data[key] = {};\n        }\n      });\n    },\n  },\n  computed: {\n    formData() {\n      const data = {};\n      this.$options.formFields.forEach((key) => {\n        if (this.$data[key]) {\n          data[key] = this.$data[key];\n        }\n      });\n      return data;\n    },\n  },\n};\n\nexport default FormValidation;\n"],"sourceRoot":""}