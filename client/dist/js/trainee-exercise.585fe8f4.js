(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trainee-exercise"],{"2e73":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"outer-w3-agile col-xl mt-3"},[a("h4",{staticClass:"tittle-w3-agileits mb-4"},[e._v(" Perform Exercise: "+e._s(e.activeExerciseData.trainingName)+" ")]),e.messageDisplay?a("div",{staticClass:"alert",class:[e.isSuccessful?"alert-success":"alert-danger"],attrs:{role:"alert"}},[e._v(" "+e._s(e.messageDisplay)+" ")]):e._e(),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"courseCode"}},[e._v("Exercise Time Slot")]),a("div",{staticClass:"mt-5"},[a("vue-slider",{attrs:{min:0,max:e.exerciseDetails.duration,tooltip:"always",process:!1,disabled:""},model:{value:e.exerciseDetails.breakPoints,callback:function(t){e.$set(e.exerciseDetails,"breakPoints",t)},expression:"exerciseDetails.breakPoints"}})],1)]),a("div",{staticClass:"form-group mt-5 mb-5"},[a("label",{attrs:{for:"courseCode"}},[e._v("Training Time Slot")]),a("div",{staticClass:"mt-5"},[a("vue-slider",{attrs:{min:0,max:e.exerciseDetails.duration,tooltip:"always",process:!1,disabled:""},model:{value:e.trainingData.track,callback:function(t){e.$set(e.trainingData,"track",t)},expression:"trainingData.track"}})],1)]),a("div",{staticClass:"form-group"},[a("label",[e._v("Body Position: "+e._s(e.activeExerciseData.bodyPosition))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Eyes Activity: "+e._s(e.activeExerciseData.eyesActivity))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Exercise Mode: "+e._s(e.activeExerciseData.mode))])]),a("div",{staticClass:"form-group"},[a("label",[e._v("First Person Name: "+e._s(e.getUserFullName))]),a("br"),a("label",[e._v("Break Points: "+e._s(e.trainingData.personOne.breakPoints.join(", ")))])]),2===e.exerciseMode?a("div",{staticClass:"form-group"},[a("label",[e._v(" Second Person Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.trainingData.personTwo.name,expression:"trainingData.personTwo.name"}],staticClass:"form-control text-input",attrs:{type:"text",disabled:e.inputFieldDisable},domProps:{value:e.trainingData.personTwo.name},on:{input:function(t){t.target.composing||e.$set(e.trainingData.personTwo,"name",t.target.value)}}})]),a("br"),a("label",[e._v("Break Points: "+e._s(e.trainingData.personTwo.breakPoints.join(", ")))])]):e._e(),a("div",{staticClass:"form-group mt-5"},[a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:e.buttonDisableState.start},on:{click:e.startExercise}},[e._v(" Start ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",attrs:{disabled:e.buttonDisableState.stop},on:{click:e.stopExercise}},[e._v(" Stop ")]),a("button",{staticClass:"btn btn-sm btn-info mr-2",on:{click:e.restartExercise}},[e._v(" Reset ")])])])])},s=[],n=a("5530");a("a4d3"),a("b64b");function r(e,t){if(null==e)return{};var a,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(s[a]=e[a]);return s}function o(e,t){if(null==e)return{};var a,i,s=r(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var c=a("1da1"),u=(a("96cf"),a("b0c0"),a("c287")),l=a("4971"),d=a.n(l),p=a("f040"),m=a("2f62"),b=(a("24df"),{components:{VueSlider:d.a},mixins:[p["a"]],data:function(){return{traineeService:new u["a"],exerciseDetails:{},activeExerciseData:{},trainingData:{track:0,keyboardCode:[],personOne:{name:"",breakPoints:[]},personTwo:{name:"",breakPoints:[]}},exerciseMode:1,timer:null,buttonDisableState:{start:!1,stop:!0},inputFieldDisable:!1,checker:!0}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,i,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.traineeService.getExerciseData(e.$route.params.id);case 3:i=t.sent,s=i.details,r=o(i,["details"]),e.exerciseDetails=s,e.activeExerciseData=r,e.exerciseMode="single"===(null===(a=e.activeExerciseData.mode)||void 0===a?void 0:a.toLowerCase())?1:2,e.trainingData.personOne.name=e.getUserFullName,e.trainingData.details=s,e.trainingData=Object(n["a"])(Object(n["a"])({},e.trainingData),r),1===e.exerciseMode&&delete e.trainingData.personTwo,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},destroyed:function(){this.stopExercise(),this.restartExercise()},methods:{startExercise:function(){var e=this;2!==this.exerciseMode||""!==this.trainingData.personTwo.name?(this.buttonDisableState.start=!0,this.buttonDisableState.stop=!1,this.inputFieldDisable=!0,this.timer=setInterval((function(){e.trainingData.track<e.exerciseDetails.duration&&(e.trainingData.track+=1),e.trainingData.track===e.exerciseDetails.duration&&setTimeout((function(){clearInterval(e.timer),e.buttonDisableState.start=!1,e.buttonDisableState.stop=!0,document.removeEventListener("keyup",e.keyBoardEvent),e.activitiesSubmit()}),1e3)}),1e3),document.addEventListener("keyup",this.keyBoardEvent)):this.showMessage({message:"Please, fillup second person name"})},stopExercise:function(){clearInterval(this.timer),this.buttonDisableState.start=!1,this.buttonDisableState.stop=!0,this.inputFieldDisable=!1,document.removeEventListener("keyup",this.keyBoardEvent)},restartExercise:function(){this.trainingData.track=0,this.trainingData.personOne.breakPoints=[],this.trainingData.personTwo.breakPoints=[]},keyBoardEvent:function(e){this.trainingData.personOne&&"Enter"===e.code&&this.trainingData.personOne.breakPoints.push(this.trainingData.track),this.trainingData.personTwo&&"Space"===e.code&&this.trainingData.personTwo.breakPoints.push(this.trainingData.track),this.trainingData.keyboardCode.push(e.code)},activitiesSubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.checker){t.next=3;break}return t.abrupt("return");case 3:return e.checker=!1,t.next=6,e.traineeService.exercisePerformed(e.$route.params.id,e.trainingData);case 6:e.showMessage({success:!0,message:"Exercise successfully completed"}),setTimeout((function(){e.$router.push({name:"Dashboard"})}),3e3),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.showMessage({message:null!==(a=null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)&&void 0!==a?a:"Something Wrong!!!"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},computed:Object(n["a"])({},Object(m["b"])("user",["getUserFullName"]))}),f=b,v=(a("dc5d"),a("2877")),h=Object(v["a"])(f,i,s,!1,null,null,null);t["default"]=h.exports},b4c3:function(e,t,a){},c287:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a("d4ec"),s=a("bee2"),n=a("262e"),r=a("2caf"),o=(a("99af"),a("b775")),c=a("3a78"),u=function(e){Object(n["a"])(a,e);var t=Object(r["a"])(a);function a(){Object(i["a"])(this,a);var e="trainee";return t.call(this,e)}return Object(s["a"])(a,[{key:"resetPassword",value:function(e){return Object(o["a"])({url:"".concat(this.apiURL,"/reset"),method:"patch",data:e}).then((function(e){return e}))}},{key:"profileUpdate",value:function(e){return Object(o["a"])({url:"".concat(this.apiURL,"/update"),method:"patch",data:e}).then((function(e){return e}))}},{key:"passwordUpdate",value:function(e){return Object(o["a"])({url:"".concat(this.apiURL,"/password"),method:"patch",data:e}).then((function(e){return e}))}},{key:"assignExercise",value:function(e,t){return Object(o["a"])({url:"".concat(this.apiURL,"/assign/").concat(e),method:"post",data:t}).then((function(e){return e}))}},{key:"getActiveExerciseList",value:function(){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise"),method:"get"}).then((function(e){return e}))}},{key:"getExerciseData",value:function(e){return Object(o["a"])({url:"".concat(this.apiURL,"/active-exercise/").concat(e),method:"get"}).then((function(e){return e}))}},{key:"exercisePerformed",value:function(e,t){return Object(o["a"])({url:"".concat(this.apiURL,"/performed/").concat(e),method:"post",data:t}).then((function(e){return e}))}},{key:"getCompleteExerciseList",value:function(e){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(e),method:"get"}).then((function(e){return e}))}},{key:"getExerciseReport",value:function(e,t){return Object(o["a"])({url:"".concat(this.apiURL,"/complete-exercise/").concat(e,"/").concat(t),method:"get"}).then((function(e){return e}))}},{key:"login",value:function(e){return Object(o["a"])({url:"".concat(this.apiURL,"/login"),method:"post",data:e}).then((function(e){return e}))}}]),a}(c["a"])},dc5d:function(e,t,a){"use strict";a("b4c3")},f040:function(e,t,a){"use strict";a("159b");var i={data:function(){return{isSuccessful:!1,messageDisplay:"",timer:null,success:!1}},methods:{showMessage:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;this.isSuccessful=e.success,this.messageDisplay=e.message;var i=e.ref;i&&(this.$refs[i].style.display="block"),clearTimeout(this.timer),this.timer=setTimeout((function(){t.isSuccessful=!1,t.messageDisplay="",i&&(t.$refs[i].style.display="none")}),a)},resetAll:function(){var e=this;this.$options.formFields.forEach((function(t){"string"===typeof e.$data[t]?e.$data[t]="":"number"===typeof e.$data[t]?e.$data[t]=0:Array.isArray(e.$data[t])?e.$data[t]=[]:e.$data[t]={}}))}},computed:{formData:function(){var e=this,t={};return this.$options.formFields.forEach((function(a){e.$data[a]&&(t[a]=e.$data[a])})),t}}};t["a"]=i}}]);
//# sourceMappingURL=trainee-exercise.585fe8f4.js.map